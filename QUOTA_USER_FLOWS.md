# Flux Utilisateurs - SystÃ¨me de Quotas de SÃ©lection Quotidienne

## ğŸ“± Diagrammes de Flux Complets

### Flux 1: Utilisateur Gratuit - PremiÃ¨re Visite du Jour

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UTILISATEUR GRATUIT - PREMIÃˆRE VISITE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ouverture de l'App
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App dÃ©tecte le resume   â”‚â—„â”€â”€â”€â”€â”€â”€ didChangeAppLifecycleState
â”‚ via WidgetsBinding      â”‚        dÃ©tecte AppLifecycleState.resumed
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ refreshSelectionIfNeededâ”‚
â”‚ vÃ©rifie si expired      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ loadDailySelection()    â”‚â”€â”€â”€â–º GET /api/v1/matching/daily-selection
â”‚ + _loadSubscriptionUsageâ”‚â”€â”€â”€â–º GET /api/v1/subscriptions/usage
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Page de SÃ©lection      â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ SÃ©lection du jourâ”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ 3 profils       â”‚   â•‘â—„â”€â”€ Affichage des profils
â•‘  â”‚ disponibles     â”‚   â•‘    non sÃ©lectionnÃ©s
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ Choix restants  â”‚   â•‘
â•‘  â”‚     1/1         â”‚   â•‘â—„â”€â”€ Indicateur de quota
â•‘  â”‚ GoldWen Plus:   â”‚   â•‘    (gratuit = 1 seul choix)
â•‘  â”‚ 3 choix/jour    â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ [Profil 1]      â”‚   â•‘
â•‘  â”‚ Emma, 25 ans    â”‚   â•‘
â•‘  â”‚ [Passer][Choisirâ”‚   â•‘â—„â”€â”€ Boutons actifs
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ [Profil 2]      â”‚   â•‘
â•‘  â”‚ Sophie, 28 ans  â”‚   â•‘
â•‘  â”‚ [Passer][Choisirâ”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ ğŸŒŸ Passez Ã      â”‚   â•‘â—„â”€â”€ BanniÃ¨re upgrade
â•‘  â”‚ GoldWen Plus    â”‚   â•‘    (non-intrusive)
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â”‚ Utilisateur clique "Choisir" sur Emma
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _showChoiceConfirmation â”‚
â”‚                         â”‚
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚ â•‘ Confirmer choix   â•‘  â”‚
â”‚ â•‘                   â•‘  â”‚
â”‚ â•‘ Voulez-vous       â•‘  â”‚
â”‚ â•‘ vraiment choisir  â•‘  â”‚
â”‚ â•‘ Emma ?            â•‘  â”‚
â”‚ â•‘                   â•‘  â”‚
â”‚ â•‘ â“˜ Ce sera votre   â•‘  â”‚â—„â”€â”€ Avertissement
â”‚ â•‘   dernier choix   â•‘      (dernier choix gratuit)
â”‚ â•‘   aujourd'hui.    â•‘  â”‚
â”‚ â•‘                   â•‘  â”‚
â”‚ â•‘ [Annuler][Confirm]â•‘  â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Clique "Confirmer"
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ selectProfile()         â”‚
â”‚                         â”‚â”€â”€â”€â–º POST /api/v1/matching/choose/:profileId
â”‚ choice: 'like'          â”‚     { choice: "like" }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend rÃ©pond          â”‚â—„â”€â”€â”€â”€ { isMatch: false,
â”‚ _updateDailySelection   â”‚       choicesRemaining: 0 }
â”‚ choicesRemaining = 0    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SnackBar verte         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘
â•‘  âœ¨ Votre choix est     â•‘â—„â”€â”€ Message de confirmation
â•‘  fait ! Revenez demain  â•‘
â•‘  pour de nouveaux       â•‘
â•‘  profils.               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Ã‰tat: Selection        â•‘
â•‘  Complete               â•‘
â•‘                         â•‘
â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘
â•‘    â”‚     âœ“     â”‚       â•‘â—„â”€â”€ IcÃ´ne de validation
â•‘    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘
â•‘                         â•‘
â•‘  SÃ©lection terminÃ©e !   â•‘
â•‘                         â•‘
â•‘  Votre choix est fait.  â•‘
â•‘  Revenez demain pour    â•‘
â•‘  de nouveaux profils.   â•‘
â•‘                         â•‘
â•‘  ğŸ• Prochaine sÃ©lection :â•‘â—„â”€â”€ Timer de reset
â•‘     demain Ã  12:00      â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ DÃ©couvrir       â”‚   â•‘â—„â”€â”€ Call-to-action
â•‘  â”‚ GoldWen Plus    â”‚   â•‘    vers subscription
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Flux 2: Utilisateur Gratuit - Quota DÃ©jÃ  Atteint

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UTILISATEUR GRATUIT - QUOTA ATTEINT                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ouverture de l'App
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ loadDailySelection()    â”‚â”€â”€â”€â–º Charge mÃ©tadonnÃ©es:
â”‚                         â”‚     choicesRemaining: 0
â”‚                         â”‚     choicesMade: 1
â”‚                         â”‚     maxChoices: 1
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     refreshTime: "2025-01-16T12:00:00Z"
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ isSelectionComplete     â”‚â”€â”€â”€â–º return true
â”‚ = choicesMade >= max    â”‚     (1 >= 1)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Ã‰tat: Selection        â•‘
â•‘  Complete affichÃ©       â•‘
â•‘                         â•‘
â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘
â•‘    â”‚     âœ“     â”‚       â•‘
â•‘    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘
â•‘                         â•‘
â•‘  SÃ©lection terminÃ©e !   â•‘
â•‘                         â•‘
â•‘  Vous avez fait vos     â•‘
â•‘  choix pour aujourd'hui.â•‘
â•‘  Revenez demain pour    â•‘
â•‘  de nouveaux profils.   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ ğŸ• Prochaine    â”‚   â•‘â—„â”€â”€ Timer calculÃ© en temps rÃ©el
â•‘  â”‚    sÃ©lection :  â”‚   â•‘    via _formatResetTime()
â•‘  â”‚    dans 4h15    â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ ğŸŒŸ DÃ©couvrir    â”‚   â•‘
â•‘  â”‚ GoldWen Plus    â”‚   â•‘
â•‘  â”‚ â†’ Subscription  â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â”‚ Si l'utilisateur tente de choisir
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ canSelectMore = false   â”‚
â”‚ Boutons dÃ©sactivÃ©s      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flux 3: Utilisateur Premium - Multiple SÃ©lections

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UTILISATEUR PREMIUM (GoldWen Plus) - MULTIPLE CHOIX         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ouverture de l'App
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ loadDailySelection()    â”‚â”€â”€â”€â–º Charge mÃ©tadonnÃ©es:
â”‚ + loadSubscriptionUsage â”‚     choicesRemaining: 3
â”‚                         â”‚     maxChoices: 3
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     hasActiveSubscription: true
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Page de SÃ©lection      â•‘
â•‘  (Premium User)         â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ ğŸŒŸ GoldWen Plus â”‚   â•‘â—„â”€â”€ Badge subscription
â•‘  â”‚    actif        â”‚   â•‘    (si proche expiration,
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘     affiche countdown)
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ 3 profils       â”‚   â•‘
â•‘  â”‚ disponibles     â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ Choix restants  â”‚   â•‘
â•‘  â”‚  [PLUS]  3/3    â”‚   â•‘â—„â”€â”€ Badge "PLUS" dorÃ©
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘    + Compteur 3/3
â•‘                         â•‘
â•‘  [Profils...]           â•‘
â•‘                         â•‘
â•‘  (Pas de banniÃ¨re       â•‘â—„â”€â”€ Pas de banniÃ¨re upgrade
â•‘   upgrade)              â•‘    pour utilisateurs premium
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â”‚ PREMIER CHOIX
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Choisit Emma            â”‚â”€â”€â”€â–º POST /matching/choose/:id
â”‚                         â”‚     choicesRemaining: 2
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SnackBar verte         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘
â•‘  ğŸ’– Vous avez choisi    â•‘
â•‘  Emma ! Il vous reste   â•‘
â•‘  2 choix.               â•‘â—„â”€â”€ Message avec choix restants
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Page mise Ã  jour       â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ Choix restants  â”‚   â•‘
â•‘  â”‚  [PLUS]  2/3    â”‚   â•‘â—„â”€â”€ Compteur mis Ã  jour
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  [2 profils restants]   â•‘â—„â”€â”€ Emma n'apparaÃ®t plus
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â”‚ DEUXIÃˆME CHOIX
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Choisit Sophie          â”‚â”€â”€â”€â–º POST /matching/choose/:id
â”‚                         â”‚     choicesRemaining: 1
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SnackBar verte         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘
â•‘  ğŸ’– Vous avez choisi    â•‘
â•‘  Sophie ! Il vous reste â•‘
â•‘  1 choix.               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ Choix restants  â”‚   â•‘
â•‘  â”‚  [PLUS]  1/3    â”‚   â•‘â—„â”€â”€ Compteur: 1/3
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  [1 profil restant]     â•‘â—„â”€â”€ Seul Clara visible
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â”‚ TROISIÃˆME CHOIX
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Choisit Clara           â”‚â”€â”€â”€â–º POST /matching/choose/:id
â”‚                         â”‚     choicesRemaining: 0
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SnackBar verte         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘
â•‘  âœ¨ Votre choix est     â•‘â—„â”€â”€ Message final
â•‘  fait ! Revenez demain  â•‘    (quota Ã©puisÃ©)
â•‘  pour de nouveaux       â•‘
â•‘  profils.               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Ã‰tat: Selection        â•‘
â•‘  Complete (Premium)     â•‘
â•‘                         â•‘
â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘
â•‘    â”‚     âœ“     â”‚       â•‘
â•‘    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘
â•‘                         â•‘
â•‘  SÃ©lection terminÃ©e !   â•‘
â•‘                         â•‘
â•‘  Vous avez fait vos     â•‘
â•‘  3 choix pour           â•‘
â•‘  aujourd'hui.           â•‘
â•‘                         â•‘
â•‘  ğŸ• Prochaine sÃ©lection :â•‘â—„â”€â”€ Timer de reset
â•‘     dans 8h45           â•‘
â•‘                         â•‘
â•‘  (Pas de bouton         â•‘â—„â”€â”€ Pas d'upgrade prompt
â•‘   upgrade pour premium) â•‘    pour utilisateurs premium
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Flux 4: Tentative de SÃ©lection avec Quota Ã‰puisÃ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TENTATIVE DE SÃ‰LECTION - QUOTA Ã‰PUISÃ‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Utilisateur clique "Choisir"
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _selectProfile()        â”‚
â”‚ vÃ©rifie canSelectMore   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ canSelectMore = false   â”‚
â”‚ (remainingSelections=0) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
       â”‚           â”‚
   Gratuit     Premium
       â”‚           â”‚
       â–¼           â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ GRATUIT     â•‘  â•‘ PREMIUM     â•‘
â•‘             â•‘  â•‘             â•‘
â•‘ showDialog: â•‘  â•‘ SnackBar:   â•‘
â•‘ Subscriptionâ•‘  â•‘ "Limite     â•‘
â•‘ LimitReachedâ•‘  â•‘ quotidienne â•‘
â•‘ Dialog      â•‘  â•‘ atteinte.   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘ Nouvelle    â•‘
       â”‚         â•‘ sÃ©lection   â•‘
       â”‚         â•‘ dans 4h15." â•‘
       â–¼         â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Limite atteinte      â•‘
â•‘                      â•‘
â•‘ Vous avez utilisÃ©    â•‘
â•‘ 1/1 sÃ©lections       â•‘
â•‘ aujourd'hui.         â•‘
â•‘                      â•‘
â•‘ ğŸ• Nouvelle          â•‘
â•‘    sÃ©lection dans    â•‘â—„â”€â”€ Timer formatÃ©
â•‘    4h15              â•‘
â•‘                      â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
â•‘ â”‚ ğŸŒŸ Avec GoldWen  â”‚â•‘
â•‘ â”‚    Plus:         â”‚â•‘
â•‘ â”‚                  â”‚â•‘
â•‘ â”‚ â€¢ 3 sÃ©lections   â”‚â•‘
â•‘ â”‚   par jour       â”‚â•‘
â•‘ â”‚ â€¢ Chat illimitÃ©  â”‚â•‘â—„â”€â”€ Liste des avantages
â•‘ â”‚ â€¢ Voir qui vous  â”‚â•‘
â•‘ â”‚   a sÃ©lectionnÃ©  â”‚â•‘
â•‘ â”‚ â€¢ Profil         â”‚â•‘
â•‘ â”‚   prioritaire    â”‚â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
â•‘                      â•‘
â•‘ [Plus tard]          â•‘
â•‘ [Passer Ã  Plus]      â•‘â—„â”€â”€ Actions
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â”‚
       â”‚ Si clique "Passer Ã  Plus"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ context.go(         â”‚
â”‚  '/subscription'    â”‚â”€â”€â”€â–º Navigation vers
â”‚ )                   â”‚     page d'abonnement
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flux 5: Reset Automatique (Nouveau Jour)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RESET AUTOMATIQUE - NOUVEAU JOUR                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Minuit / Midi (Backend)
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Reset           â”‚
â”‚ - choicesRemaining      â”‚â—„â”€â”€ Backend rÃ©initialise
â”‚   rÃ©initialisÃ©          â”‚    automatiquement
â”‚ - choicesMade = 0       â”‚    (Cron job backend)
â”‚ - Nouvelle sÃ©lection    â”‚
â”‚   gÃ©nÃ©rÃ©e               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        
        â° Attente...
        
Utilisateur ouvre l'app
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ didChangeAppLifecycle   â”‚
â”‚ State.resumed           â”‚â—„â”€â”€ Observer dÃ©tecte
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    le retour Ã  l'app
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ refreshSelectionIfNeededâ”‚
â”‚                         â”‚
â”‚ VÃ©rifie:                â”‚
â”‚ - dailySelection?.      â”‚
â”‚   isExpired             â”‚â—„â”€â”€ VÃ©rifie si selection
â”‚ = DateTime.now()        â”‚    a expirÃ©
â”‚   .isAfter(expiresAt)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ isExpired = true
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ loadDailySelection()    â”‚â”€â”€â”€â–º GET /api/v1/matching/
â”‚                         â”‚     daily-selection
â”‚ Charge nouvelle         â”‚
â”‚ sÃ©lection du jour       â”‚â—„â”€â”€ Nouvelle sÃ©lection
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    avec quotas rÃ©initialisÃ©s
             â”‚
             â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Page de SÃ©lection      â•‘
â•‘  (Nouvelle JournÃ©e)     â•‘
â•‘                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ Choix restants  â”‚   â•‘
â•‘  â”‚     1/1 (ou     â”‚   â•‘â—„â”€â”€ Quotas rÃ©initialisÃ©s
â•‘  â”‚     3/3 Premium)â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                         â•‘
â•‘  [Nouveaux profils]     â•‘â—„â”€â”€ Nouvelle sÃ©lection
â•‘                         â•‘    de profils
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ¨ Composants UI DÃ©taillÃ©s

### Widget: _buildSelectionInfo()

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Container                               â”‚
â”‚ (Background: white.withOpacity(0.2))    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Row (SpaceBetween)                â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  Column (Left)                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚ "Choix       â”‚                â”‚ â”‚
â”‚  â”‚  â”‚  restants"   â”‚                â”‚ â”‚â—„â”€â”€ Label principal
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚ "GoldWen     â”‚ (si gratuit)   â”‚ â”‚
â”‚  â”‚  â”‚  Plus: 3/j"  â”‚                â”‚ â”‚â—„â”€â”€ Suggestion upgrade
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  Row (Right)                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ [PLUS] â”‚ â”‚  2/3     â”‚        â”‚ â”‚â—„â”€â”€ Badge + Compteur
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚    (couleur selon quota)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  Si quota = 0:                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Row (Timer)                       â”‚ â”‚
â”‚  â”‚  ğŸ• Reset: dans 4h15              â”‚ â”‚â—„â”€â”€ Timer de reset
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Widget: SubscriptionLimitReachedDialog

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ AlertDialog                           â•‘
â•‘                                       â•‘
â•‘  Title Row:                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”                            â•‘
â•‘  â”‚ ğŸŒŸ   â”‚ "Limite atteinte"         â•‘â—„â”€â”€ IcÃ´ne + Titre
â•‘  â””â”€â”€â”€â”€â”€â”€â”˜                            â•‘
â•‘                                       â•‘
â•‘  Content:                             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
â•‘  â”‚ "Vous avez utilisÃ© X/Y          â”‚â•‘â—„â”€â”€ Message quota
â•‘  â”‚  sÃ©lections aujourd'hui."       â”‚â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
â•‘                                       â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
â•‘  â”‚ ğŸ• "Nouvelle sÃ©lection dans     â”‚â•‘â—„â”€â”€ Timer formatÃ©
â•‘  â”‚     4h15"                        â”‚â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
â•‘                                       â•‘
â•‘  Container (GoldWen Plus Features):   â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
â•‘  â”‚ ğŸŒŸ Avec GoldWen Plus:           â”‚â•‘
â•‘  â”‚                                  â”‚â•‘
â•‘  â”‚ â€¢ 3 sÃ©lections par jour         â”‚â•‘
â•‘  â”‚ â€¢ Chat illimitÃ© avec matches    â”‚â•‘â—„â”€â”€ Liste avantages
â•‘  â”‚ â€¢ Voir qui vous a sÃ©lectionnÃ©   â”‚â•‘    avec gradient gold
â•‘  â”‚ â€¢ Profil prioritaire            â”‚â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
â•‘                                       â•‘
â•‘  Actions:                             â•‘
â•‘  [Plus tard] [Passer Ã  Plus]         â•‘â—„â”€â”€ Boutons d'action
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Widget: SubscriptionPromoBanner

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Card (Gradient gold background)          â”‚
â”‚                                           â”‚
â”‚  InkWell (tapable â†’ /subscription)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Row                                 â”‚â”‚
â”‚  â”‚                                     â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚â”‚
â”‚  â”‚  â”‚   ğŸŒŸ   â”‚  (Icon in colored box) â”‚â”‚â—„â”€â”€ IcÃ´ne star dorÃ©e
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚â”‚
â”‚  â”‚                                     â”‚â”‚
â”‚  â”‚  Column (Expanded)                  â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚â”‚
â”‚  â”‚  â”‚ "Passez Ã  GoldWen     â”‚         â”‚â”‚â—„â”€â”€ Message principal
â”‚  â”‚  â”‚  Plus pour 3 choix/   â”‚         â”‚â”‚
â”‚  â”‚  â”‚  jour"                â”‚         â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚â”‚
â”‚  â”‚  â”‚ "Plus de matches,     â”‚ (opt)   â”‚â”‚â—„â”€â”€ Sous-message
â”‚  â”‚  â”‚  plus de possibilitÃ©s"â”‚         â”‚â”‚    (si !compact)
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚â”‚
â”‚  â”‚                                     â”‚â”‚
â”‚  â”‚  â†’  (Arrow icon)                   â”‚â”‚â—„â”€â”€ FlÃ¨che navigation
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Ã‰tats du SystÃ¨me

### Ã‰tat 1: Initial (Quotas Disponibles)
- `canSelectMore = true`
- `remainingSelections > 0`
- Boutons "Choisir" actifs
- Compteur affichÃ© avec couleur primaire
- BanniÃ¨re upgrade (si gratuit, en bas de page)

### Ã‰tat 2: AprÃ¨s Premier Choix (Premium)
- `remainingSelections` dÃ©crÃ©mentÃ©
- Profil sÃ©lectionnÃ© retirÃ© de la liste
- SnackBar de confirmation
- Compteur mis Ã  jour
- Autres profils toujours disponibles

### Ã‰tat 3: Quota Ã‰puisÃ©
- `canSelectMore = false`
- `remainingSelections = 0`
- `isSelectionComplete = true`
- Boutons "Choisir" dÃ©sactivÃ©s (grisÃ©s)
- Timer de reset affichÃ©
- Ã‰tat "Selection Complete" affichÃ©
- BanniÃ¨re upgrade prominente (si gratuit)

### Ã‰tat 4: AprÃ¨s Reset (Nouveau Jour)
- Retour Ã  Ã‰tat 1
- Nouveaux profils chargÃ©s
- Quotas rÃ©initialisÃ©s
- `_selectedProfileIds` vidÃ©

## ğŸ“Š DÃ©cisions de Design

### Couleurs
- **Quota disponible**: Theme.primaryColor (actif, vert)
- **Quota Ã©puisÃ©**: Colors.grey[400] (dÃ©sactivÃ©)
- **Badge Premium**: Colors.amber (gold)
- **Timer**: Colors.grey[600] (neutre)
- **Success**: Colors.green (confirmation)
- **Warning**: Colors.orange (limite atteinte)

### Typographie
- **Compteur**: bodyMedium, fontWeight.bold
- **Label**: bodyMedium, fontWeight.w500
- **Timer**: bodySmall, color: grey[600]
- **Message success**: Theme default

### Espacement
- **Compact mode**: AppSpacing.sm, AppSpacing.xs
- **Normal mode**: AppSpacing.md
- **Padding counters**: 12x4 (horizontal x vertical)
- **Border radius**: AppBorderRadius.medium (12-16px)

## ğŸ§© IntÃ©gration Backend

### Synchronisation des Ã‰tats

```
Frontend State           Backend State
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
choicesRemaining   â†â”€â”€â”€  dailyChoices.remaining
choicesMade        â†â”€â”€â”€  dailyChoices.used
maxChoices         â†â”€â”€â”€  dailyChoices.limit
refreshTime        â†â”€â”€â”€  dailyChoices.resetTime
canSelectMore      â†â”€â”€â”€  dailyChoices.remaining > 0
```

### Gestion de la CohÃ©rence

1. **Load**: Backend est source de vÃ©ritÃ©
2. **Update**: Frontend optimiste + confirmation backend
3. **Conflict**: Backend prÃ©vaut (re-fetch si nÃ©cessaire)
4. **Offline**: Ã‰tat local en cache, sync au retour

## âœ¨ Conclusion

Ces flux dÃ©taillÃ©s montrent que:
- âœ… Tous les parcours utilisateurs sont couverts
- âœ… L'UI est cohÃ©rente et informative
- âœ… Les transitions d'Ã©tat sont fluides
- âœ… Les messages sont clairs et contextuels
- âœ… L'upgrade est suggÃ©rÃ© de maniÃ¨re non-intrusive
- âœ… Le systÃ¨me est robuste aux cas limites

**Le systÃ¨me de quotas est complet et production-ready.**
