# GoldWen API Environment Configuration
# Copy this file to .env and update the values for your environment

# Application Configuration
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1
LOG_LEVEL=info

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=goldwen
DATABASE_PASSWORD=goldwen_password
DATABASE_NAME=goldwen_db

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h

# OAuth Configuration
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

APPLE_CLIENT_ID=your-apple-client-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nyour-apple-private-key\n-----END PRIVATE KEY-----

# Notification Configuration
FCM_SERVER_KEY=your-firebase-cloud-messaging-server-key

# Email Configuration (for transactional emails: welcome, password reset, data export, account deletion, subscription)
# Choose email provider: 'smtp' (default) or 'sendgrid'
EMAIL_PROVIDER=smtp
EMAIL_FROM=noreply@goldwen.com

# Option 1: SMTP Configuration (e.g., Gmail)
# For Gmail users: Use App Passwords instead of regular passwords
# 1. Enable 2-Factor Authentication on your Gmail account
# 2. Go to https://myaccount.google.com/apppasswords
# 3. Generate an App Password for "Mail"
# 4. Use the 16-character App Password as EMAIL_PASSWORD
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-16-character-app-password

# Option 2: SendGrid Configuration (recommended for production)
# Get your API key from: https://app.sendgrid.com/settings/api_keys
# Uncomment the line below and set EMAIL_PROVIDER=sendgrid
# SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Matching Service Configuration
MATCHING_SERVICE_URL=http://localhost:8000
MATCHING_SERVICE_API_KEY=matching-service-secret-key

# Revenue Cat Configuration (for subscription management)
REVENUECAT_API_KEY=your-revenuecat-api-key
REVENUECAT_WEBHOOK_SECRET=your-revenuecat-webhook-secret

# File Upload Configuration
MAX_FILE_SIZE=5242880
UPLOAD_DESTINATION=./uploads

# CORS Configuration
FRONTEND_URL=http://localhost:3001

# Monitoring and Alerting Configuration
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.01

# DataDog Configuration (optional)
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key

# Alerting Webhooks (optional)
ALERTS_WEBHOOK_URL=https://your-webhook-url.com/alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_EMAIL_RECIPIENTS=admin@goldwen.com,dev@goldwen.com

# Rate Limiting & Throttling Configuration
# Global rate limiting (applies to all endpoints)
THROTTLE_TTL=60000
THROTTLE_LIMIT=100
# Sensitive endpoints rate limiting (e.g., profile updates, searches)
THROTTLE_SENSITIVE_TTL=60000
THROTTLE_SENSITIVE_LIMIT=20
# Authentication endpoints brute force protection
THROTTLE_AUTH_TTL=900000
THROTTLE_AUTH_LIMIT=5

# Content Moderation Configuration
# OpenAI API for text moderation
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODERATION_MODEL=text-moderation-latest

# AWS Rekognition for image moderation
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Moderation Settings
MODERATION_AUTO_BLOCK=false
MODERATION_TEXT_THRESHOLD=0.7
MODERATION_IMAGE_THRESHOLD=80

# Forbidden Words Configuration
# Enable/disable forbidden words checking
FORBIDDEN_WORDS_ENABLED=false
# Comma-separated list of forbidden words/phrases (case-insensitive)
# Example: FORBIDDEN_WORDS=spam,scam,badword,offensive phrase
FORBIDDEN_WORDS=

# Production specific (set when NODE_ENV=production)
# DATABASE_SSL=true
# LOG_LEVEL=warn
# EMAIL_SECURE=true